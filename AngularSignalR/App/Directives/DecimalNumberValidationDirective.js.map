{"version":3,"sources":["Directives/DecimalNumberValidationDirective.ts"],"names":[],"mappings":"AAAA,qEAAqE;AAErE,IAAO,iBAAiB,CAgCvB;AAhCD,WAAO,iBAAiB;IAAC,IAAA,UAAU,CAgClC;IAhCwB,WAAA,UAAU,EAAC,CAAC;QAEjC;YAAA;gBAEI,aAAQ,GAAG,GAAG,CAAC;gBACf,YAAO,GAAG,UAAU,CAAC;YAwBzB,CAAC;YAtBU,4BAAI,GAAX,UAAY,MAAiB,EAAE,OAAe,EAAE,UAA0B,EAAE,eAAsC;gBAE9G,eAAe,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAC,KAAK;oBAChC,EAAE,CAAC,CAAC,KAAK,IAAI,SAAS,CAAC;wBAAC,MAAM,CAAC,EAAE,CAAC;oBAClC,IAAI,aAAa,GAAW,KAAK,CAAC,OAAO,CAAC,YAAY,EAAE,EAAE,CAAC,CAAC;oBAE5D,EAAE,CAAC,CAAC,aAAa,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;wBACtC,aAAa,GAAG,aAAa,CAAC,SAAS,CAAC,CAAC,EAAE,aAAa,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;oBACzE,CAAC;oBAED,EAAE,CAAC,CAAC,aAAa,KAAK,KAAK,CAAC,CAAC,CAAC;wBAC1B,eAAe,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC;wBAC7C,eAAe,CAAC,OAAO,EAAE,CAAC;oBAC9B,CAAC;oBACD,MAAM,CAAC,aAAa,CAAC;gBACzB,CAAC,CAAC,CAAC;YAEP,CAAC;YAEM,qBAAO,GAAd;gBACI,MAAM,CAAC,cAAM,OAAA,IAAI,aAAa,EAAE,EAAnB,CAAmB,CAAC;YACrC,CAAC;YACL,oBAAC;QAAD,CA3BA,AA2BC,IAAA;QA3BY,wBAAa,gBA2BzB,CAAA;QAED,gCAAc,CAAC,MAAM,CAAC,SAAS,CAAC,eAAe,EAAE,aAAa,CAAC,OAAO,EAAE,CAAC,CAAC;IAC9E,CAAC,EAhCwB,UAAU,GAAV,4BAAU,KAAV,4BAAU,QAgClC;AAAD,CAAC,EAhCM,iBAAiB,KAAjB,iBAAiB,QAgCvB","file":"DecimalNumberValidationDirective.js","sourcesContent":["/// <reference path=\"../../scripts/typings/angularjs/angular.d.ts\" />\r\n\r\nmodule AngularSignalRApp.Directives {\r\n\r\n    export class DecimalNumber implements ng.IDirective {\r\n\r\n        restrict = 'A';\r\n        require = '?ngModel';\r\n\r\n        public link($scope: ng.IScope, element: JQuery, attributes: ng.IAttributes, modelController: ng.INgModelController) {\r\n\r\n            modelController.$parsers.push((value) => {\r\n                if (value == undefined) return '';\r\n                var replacedValue: string = value.replace(/[^-0-9\\.]/g, '');\r\n\r\n                if (replacedValue.split('.').length > 2) {\r\n                    replacedValue = replacedValue.substring(0, replacedValue.length - 1);\r\n                }\r\n\r\n                if (replacedValue !== value) {\r\n                    modelController.$setViewValue(replacedValue);\r\n                    modelController.$render();\r\n                }\r\n                return replacedValue;\r\n            });\r\n\r\n        }\r\n\r\n        static factory(): ng.IDirectiveFactory {\r\n            return () => new DecimalNumber();\r\n        }\r\n    }\r\n\r\n    AngularSignalR.module.directive('decimalNumber', DecimalNumber.factory());\r\n}\r\n"]}