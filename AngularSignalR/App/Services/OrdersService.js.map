{"version":3,"sources":["Services/OrdersService.ts"],"names":[],"mappings":"AACA,IAAO,iBAAiB,CAiDvB;AAjDD,WAAO,iBAAiB;IAAC,IAAA,QAAQ,CAiDhC;IAjDwB,WAAA,QAAQ,EAAC,CAAC;QAG/B,IAAO,SAAS,GAAG,iBAAiB,CAAC,OAAO,CAAC,SAAS,CAAC;QAMvD;YAGI,uBAAY,SAA+B;gBACvC,IAAI,CAAC,QAAQ,GAA0B,SAAS,CAAC,iBAAiB,EAAE,EAAE,EAAE,EAAE,KAAK,EAAE,EAAE;oBAC/E,GAAG,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE;oBACtB,MAAM,EAAE,EAAE,MAAM,EAAE,MAAM,EAAE;oBAC1B,IAAI,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE;oBACvB,KAAK,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE,IAAI,EAAE;oBACvC,MAAM,EAAE,EAAE,MAAM,EAAE,QAAQ,EAAE;iBAC/B,CAAC,CAAC;YACP,CAAC;YAEM,8BAAM,GAAb,UAAc,KAAsC;gBAChD,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YACvC,CAAC;YAEM,4BAAI,GAAX,UAAY,KAAsC;gBAC9C,EAAE,CAAC,CAAC,KAAK,CAAC,EAAE,IAAI,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC;oBAClC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;gBACvC,CAAC;gBACD,IAAI,CAAC,CAAC;oBACF,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBACrC,CAAC;YACL,CAAC;YAEM,8BAAM,GAAb,UAAc,KAAsC;gBAChD,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YACvC,CAAC;YAEM,8BAAM,GAAb;gBACI,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;YACjC,CAAC;YAEM,qBAAO,GAAd;gBACI,MAAM,CAAC,UAAC,CAAuB,IAAK,OAAA,IAAI,aAAa,CAAC,CAAC,CAAC,EAApB,CAAoB,CAAC;YAC7D,CAAC;YACL,oBAAC;QAAD,CArCA,AAqCC,IAAA;QArCY,sBAAa,gBAqCzB,CAAA;QAED,gCAAc,CAAC,MAAM,CAAC,OAAO,CAAC,eAAe,EAAE,CAAC,WAAW,EAAE,aAAa,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;IAC3F,CAAC,EAjDwB,QAAQ,GAAR,0BAAQ,KAAR,0BAAQ,QAiDhC;AAAD,CAAC,EAjDM,iBAAiB,KAAjB,iBAAiB,QAiDvB","file":"OrdersService.js","sourcesContent":["\r\nmodule AngularSignalRApp.Services {\r\n\r\n    import ngr = ng.resource;\r\n    import constants = AngularSignalRApp.Commons.Constants;\r\n\r\n    export interface IOrdersResourceClass extends ngr.IResourceClass<ngr.IResource<AngularSignalRApp.Models.IOrder>> {\r\n        create(order: AngularSignalRApp.Models.IOrder): ngr.IResource<AngularSignalRApp.Models.IOrder>;\r\n    }\r\n\r\n    export class OrdersService {\r\n        private resource: IOrdersResourceClass;\r\n\r\n        constructor($resource: ngr.IResourceService) {\r\n            this.resource = <IOrdersResourceClass> $resource('/api/orders/:id', { id: '@Id' }, {\r\n                get: { method: \"GET\" },\r\n                create: { method: \"POST\" },\r\n                save: { method: \"PUT\" },\r\n                query: { method: \"GET\", isArray: true },\r\n                delete: { method: \"DELETE\" }\r\n            });\r\n        }\r\n\r\n        public create(order: AngularSignalRApp.Models.IOrder) {\r\n            return this.resource.create(order);\r\n        }\r\n\r\n        public save(order: AngularSignalRApp.Models.IOrder) {\r\n            if (order.Id == constants.GuidEmpty) {\r\n                return this.resource.create(order);\r\n            }\r\n            else {\r\n                return this.resource.save(order);\r\n            }\r\n        }\r\n\r\n        public delete(order: AngularSignalRApp.Models.IOrder) {\r\n            return this.resource.remove(order);\r\n        }\r\n\r\n        public getAll() {\r\n            return this.resource.query();\r\n        }\r\n\r\n        static factory() {\r\n            return (r: ngr.IResourceService) => new OrdersService(r);\r\n        }\r\n    }\r\n\r\n    AngularSignalR.module.factory('OrdersService', ['$resource', OrdersService.factory()]);\r\n}\r\n"]}